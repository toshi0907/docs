---
layout: default
---
<article class="post">

  <header class="post-header">
    <h1 class="post-title">{{ page.title | escape }}</h1>
    {%- if page.description -%}
    <p class="post-description">{{ page.description | escape }}</p>
    {%- endif -%}
  </header>

  <div class="post-content">
    {%- if page.toc != false -%}
    <!-- Table of Contents -->
    <div class="toc-container" style="background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 5px; padding: 15px; margin-bottom: 20px;">
      <h3 style="margin-top: 0; color: #495057;">目次</h3>
      <div id="toc"></div>
    </div>
    {%- endif -%}

    {{ content }}

    {%- if page.last_modified_at or page.date -%}
    <div class="page-meta" style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #e9ecef; color: #6c757d; font-size: 0.9em;">
      <p>
        {%- if page.last_modified_at -%}
        最終更新: {{ page.last_modified_at | date: "%Y年%m月%d日" }}
        {%- elsif page.date -%}
        作成日: {{ page.date | date: "%Y年%m月%d日" }}
        {%- endif -%}
      </p>
    </div>
    {%- endif -%}
  </div>

</article>

{%- if page.toc != false -%}
<!-- Table of Contents JavaScript -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Generate Table of Contents
    const headings = document.querySelectorAll('.post-content h2, .post-content h3, .post-content h4');
    const toc = document.getElementById('toc');
    
    if (headings.length > 0 && toc) {
      const tocList = document.createElement('ul');
      tocList.style.cssText = 'list-style: none; padding-left: 0; margin: 0;';
      
      headings.forEach(function(heading, index) {
        // Add ID to heading if it doesn't have one
        if (!heading.id) {
          heading.id = 'heading-' + index;
        }
        
        const listItem = document.createElement('li');
        const link = document.createElement('a');
        link.href = '#' + heading.id;
        link.textContent = heading.textContent;
        link.style.cssText = 'text-decoration: none; color: #007bff;';
        
        // Style based on heading level
        if (heading.tagName === 'H2') {
          listItem.style.cssText = 'margin-bottom: 5px; font-weight: 500;';
        } else if (heading.tagName === 'H3') {
          listItem.style.cssText = 'margin-bottom: 3px; margin-left: 20px; font-size: 0.9em;';
        } else if (heading.tagName === 'H4') {
          listItem.style.cssText = 'margin-bottom: 2px; margin-left: 40px; font-size: 0.8em;';
        }
        
        listItem.appendChild(link);
        tocList.appendChild(listItem);
      });
      
      toc.appendChild(tocList);
    } else if (toc) {
      // Hide TOC container if no headings found
      toc.parentNode.style.display = 'none';
    }
  });
</script>
{%- endif -%}